# Base configuration for all backend services (AWS sbx)
#
# Domain: sbx.rbcn.ai
# Secrets: AWS Secrets Manager via ExternalSecrets
# Images: ECR pull-through cache

env:
  ADMIN_FRONTEND_URL: https://sbx.rbcn.ai/admin
  CHAT_FRONTEND_URL: https://sbx.rbcn.ai/chat
  CORS_ALLOWED_ORIGINS: https://sbx.rbcn.ai
  INGESTION_UPLOAD_API_URL: https://api.sbx.rbcn.ai/scoped/ingestion/upload
  UNIQUE_INSTALLATION_ID: sbx.rbcn.ai
  ZITADEL_HOST: https://id.sbx.rbcn.ai
  ZITADEL_PROJECT_ID: "360428746047488602"
  ZITADEL_ROOT_ORG_ID: "360299865873384324"

routes:
  hostname: api.sbx.rbcn.ai
  skipCrdCheck: true

# Disable Azure secretProvider (use ExternalSecrets for AWS instead)
# Secrets are pulled from AWS Secrets Manager via ClusterSecretStore
secretProvider: null

resources:
  requests:
    cpu: 50m
    memory: 220Mi
  limits:
    cpu: 500m
    memory: 512Mi

podAnnotations:
  reloader.stakater.com/auto: "true"

nodeSelector: null

keda:
  skipCrdCheck: true
